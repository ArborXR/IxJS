(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
    typeof define === 'function' && define.amd ? define(['IxAsynciterable'], factory) :
    (factory(global.IxAsynciterable = global.IxAsynciterable || {}));
}(this, (function (exports) {/*
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
*****************************************************************************/
function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){if(a==Array.prototype||a==Object.prototype)return a;a[b]=e.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var e=a[b];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");}var n=ca(this);function da(a,b){if(b)a:{var e=n;a=a.split(".");for(var d=0;d<a.length-1;d++){var c=a[d];if(!(c in e))break a;e=e[c]}a=a[a.length-1];d=e[a];b=b(d);b!=d&&null!=b&&ba(e,a,{configurable:!0,writable:!0,value:b})}}
da("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new e(d+(f||"")+"_"+c++,f)}function e(f,h){this.ma=f;ba(this,"description",{configurable:!0,writable:!0,value:h})}if(a)return a;e.prototype.toString=function(){return this.ma};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",c=0;return b});
da("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),e=0;e<b.length;e++){var d=n[b[e]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return ea(aa(this))}})}return a});da("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")});
function ea(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}function r(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function fa(a){if(!(a instanceof Array)){a=r(a);for(var b,e=[];!(b=a.next()).done;)e.push(b.value);a=e}return a}var ha="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ia;
if("function"==typeof Object.setPrototypeOf)ia=Object.setPrototypeOf;else{var ja;a:{var ka={a:!0},la={};try{la.__proto__=ka;ja=la.a;break a}catch(a){}ja=!1}ia=ja?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ma=ia;
function t(a,b){a.prototype=ha(b.prototype);a.prototype.constructor=a;if(ma)ma(a,b);else for(var e in b)if("prototype"!=e)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,e);d&&Object.defineProperty(a,e,d)}else a[e]=b[e];a.za=b.prototype}function w(){this.M=!1;this.D=null;this.h=void 0;this.i=1;this.B=this.A=0;this.ja=this.u=null}function na(a){if(a.M)throw new TypeError("Generator is already running");a.M=!0}w.prototype.N=function(a){this.h=a};
w.prototype.O=function(a){this.u={ia:a,la:!0};this.i=this.A||this.B};w.prototype.return=function(a){this.u={return:a};this.i=this.B};function y(a,b,e){a.i=e;return{value:b}}w.prototype.g=function(a){this.i=a};function oa(a,b,e){a.A=b;void 0!=e&&(a.B=e)}function pa(a){a.A=0;a.B=2}function qa(a){a.A=0;var b=a.u.ia;a.u=null;return b}function ra(a){a.ja=[a.u];a.A=0;a.B=0}function sa(a){var b=a.ja.splice(0)[0];(b=a.u=a.u||b)?b.la?a.i=a.A||a.B:void 0!=b.g&&a.B<b.g?(a.i=b.g,a.u=null):a.i=a.B:a.i=0}
function ta(a){this.l=new w;this.va=a}ta.prototype.N=function(a){na(this.l);if(this.l.D)return ua(this,this.l.D.next,a,this.l.N);this.l.N(a);return va(this)};function wa(a,b){na(a.l);var e=a.l.D;if(e)return ua(a,"return"in e?e["return"]:function(d){return{value:d,done:!0}},b,a.l.return);a.l.return(b);return va(a)}ta.prototype.O=function(a){na(this.l);if(this.l.D)return ua(this,this.l.D["throw"],a,this.l.N);this.l.O(a);return va(this)};
function ua(a,b,e,d){try{var c=b.call(a.l.D,e);if(!(c instanceof Object))throw new TypeError("Iterator result "+c+" is not an object");if(!c.done)return a.l.M=!1,c;var f=c.value}catch(h){return a.l.D=null,a.l.O(h),va(a)}a.l.D=null;d.call(a.l,f);return va(a)}function va(a){for(;a.l.i;)try{var b=a.va(a.l);if(b)return a.l.M=!1,{value:b.value,done:!1}}catch(e){a.l.h=void 0,a.l.O(e)}a.l.M=!1;if(a.l.u){b=a.l.u;a.l.u=null;if(b.la)throw b.ia;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function xa(a){this.next=function(b){return a.N(b)};this.throw=function(b){return a.O(b)};this.return=function(b){return wa(a,b)};this[Symbol.iterator]=function(){return this}}function z(a,b){b=new xa(new ta(b));ma&&a.prototype&&ma(b,a.prototype);return b}function ya(a){function b(d){return a.next(d)}function e(d){return a.throw(d)}return new Promise(function(d,c){function f(h){h.done?d(h.value):Promise.resolve(h.value).then(b,e).then(f,c)}f(a.next())})}
function A(a){return ya(new xa(new ta(a)))}function B(a){var b=a[Symbol.asyncIterator];return void 0!==b?b.call(a):new za(r(a))}function za(a){this[Symbol.asyncIterator]=function(){return this};this[Symbol.iterator]=function(){return a};this.next=function(b){return Promise.resolve(a.next(b))};void 0!==a["throw"]&&(this["throw"]=function(b){return Promise.resolve(a["throw"](b))});void 0!==a["return"]&&(this["return"]=function(b){return Promise.resolve(a["return"](b))})}
function C(a,b){this.action=a;this.value=b}function Aa(a,b,e,d){this.method=a;this.I=b;this.resolve=e;this.reject=d}function Ba(a){this.frame=a;this.next=null}function Ca(){this.T=this.C=null}Ca.prototype.isEmpty=function(){return null===this.C};Ca.prototype.first=function(){if(this.C)return this.C.frame;throw Error("no frames in executionQueue");};function D(a){a.C&&(a.C=a.C.next,a.C||(a.T=null))}Ca.prototype.enqueue=function(a){a=new Ba(a);this.T?this.T.next=a:this.C=a;this.T=a};
function E(a){this.ka=a;this.s=null;this.m=new Ca;this[Symbol.asyncIterator]=function(){return this};var b=this;this.ta=function(e){var d=b.m.first();!0===e.done?(b.s=null,d.method="next",d.I=e.value):(d.resolve({value:e.value,done:!1}),D(b.m));G(b)};this.sa=function(e){Da(b,e)};this.ba=function(e){Ea(b,e)}}function Fa(a,b,e){return new Promise(function(d,c){var f=a.m.isEmpty();a.m.enqueue(new Aa(b,e,d,c));f&&G(a)})}E.prototype.next=function(a){return Fa(this,"next",a)};
E.prototype.return=function(a){return Fa(this,"return",new C(0,a))};E.prototype.throw=function(a){return Fa(this,"throw",a)};function G(a){if(!a.m.isEmpty())try{if(a.s){if(!a.s)throw Error("no delegate to perform execution");var b=a.m.first();if(b.method in a.s)try{a.s[b.method](b.I).then(a.ta,a.sa).catch(a.ba)}catch(e){Da(a,e)}else a.s=null,G(a)}else Ga(a)}catch(e){Ea(a,e)}}
function Ga(a){var b=a.m.first();try{var e=a.ka[b.method](b.I);if(e.value instanceof C)switch(e.value.action){case 0:Promise.resolve(e.value.value).then(function(d){b.resolve({value:d,done:e.done});D(a.m);G(a)},function(d){b.reject(d);D(a.m);G(a)}).catch(a.ba);break;case 1:a.s=B(e.value.value);b.method="next";b.I=void 0;G(a);break;case 2:Promise.resolve(e.value.value).then(function(d){b.method="next";b.I=d;G(a)},function(d){b.method="throw";b.I=d;G(a)}).catch(a.ba);break;default:throw Error("Unrecognized AsyncGeneratorWrapper$ActionEnum");
}else b.resolve(e),D(a.m),G(a)}catch(d){b.reject(d),D(a.m),G(a)}}function Da(a,b){var e=a.m.first();a.s=null;e.method="throw";e.I=b;G(a)}function Ea(a,b){a.m.isEmpty()||(a.m.first().reject(b),D(a.m));a.s&&"return"in a.s&&(a.s["return"](void 0),a.s=null);a.ka["return"](void 0);G(a)}function J(){for(var a=Number(this),b=[],e=a;e<arguments.length;e++)b[e-a]=arguments[e];return b}function Ha(a){return this instanceof Ha?this:new Ha(a)};function Ia(a){return a}function K(a){return A(function(b){return b.return(a)})};function Ja(a,b){return"undefined"===typeof b?a:function(e,d){return a.call(b,e,d)}};function L(a){return"function"===typeof a}function M(a){return null!=a&&Object(a)===a}function Ka(a){return null!=a&&Object(a)===a&&"function"===typeof a.subscribe};var La=Math.pow(2,53)-1;function N(){this.V=!1;this.aa=[];this.L=[]}N.prototype[Symbol.asyncIterator]=function(){return this};N.prototype.write=function(a){this._push({type:"value",value:a})};N.prototype.error=function(a){this._push({type:"error",error:a})};N.prototype._push=function(a){if(this.V)throw Error("AsyncSink already ended");if(0<this.L.length){var b=this.L.shift(),e=b.resolve;b=b.reject;"error"===a.type?b(a.error):e({done:!1,value:a.value})}else this.aa.push(a)};
N.prototype.next=function(){var a=this;if(0<this.aa.length){var b=this.aa.shift(),e=b.value,d=b.error;return"error"===b.type?Promise.reject(d):Promise.resolve({done:!1,value:e})}return this.V?Promise.resolve({done:!0}):new Promise(function(c,f){a.L.push({resolve:c,reject:f})})};N.prototype.end=function(){for(;0<this.L.length;)this.L.shift().resolve({done:!0});this.V=!0};function O(a){a=Error.call(this,void 0===a?"The operation has been aborted":a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,O.prototype);Error.captureStackTrace(this,this.constructor);this.name="AbortError"}t(O,Error);n.Object.defineProperty(O.prototype,Symbol.toStringTag,{configurable:!0,enumerable:!0,get:function(){return"AbortError"}});function P(a){if(a&&a.aborted)throw new O;}
Object.defineProperty(O,Symbol.hasInstance,{writable:!0,configurable:!0,value:function(a){return M(a)&&("AbortError"===a.constructor.name||"AbortError"===a[Symbol.toStringTag])}});var Ma,R,Na,Oa,Pa;
function Qa(a){function b(f,h){var g=a.call(this)||this;g.qa=f;g.G=h;return g}function e(f,h){var g=a.call(this)||this;g.j=f;g.G=h;return g}function d(f,h){var g=a.call(this)||this;g.j=f;g.G=h;return g}function c(f,h){var g=a.call(this)||this;g.j=f;g.G=h;return g}Ma=function(f,h,g){h=void 0===h?K:h;h=Ja(h,g);if(null!=f&&L(f[Symbol.iterator])||M(f)&&L(f[Symbol.asyncIterator]))return new Na(f,h);if(M(f)&&L(f.then))return new Oa(f,h);if(Ka(f))return new Pa(f,h);if(M(f)&&"number"===typeof f.length)return new R(f,
h);if(M(f)&&!L(f[Symbol.iterator])&&L(f.next))return g={},new Na((g[Symbol.asyncIterator]=function(){return f},g),h);throw new TypeError("Input type not supported");};t(c,a);c.prototype[Symbol.asyncIterator]=function(){var f=this;return new E(function g(){var k,l,m,q;return z(g,function(p){if(1==p.i){k=0;var u=Number(f.j.length);l=Math.min(Math.max(isNaN(u)?0:0!==u&&isFinite(u)?(0<u?1:-1)*Math.floor(Math.abs(u)):u,0),La)}if(5!=p.i){if(!(k<l))return p.g(0);m=C;q=0;return y(p,new C(2,f.G(f.j[k],k++)),
5)}return y(p,new m(q,p.h),2)})}())};R=c;t(d,a);d.prototype[Symbol.asyncIterator]=function(){var f=this;return new E(function g(){var k,l,m,q,p,u;return z(g,function(v){switch(v.i){case 1:k=0,l=B(f.j);case 2:return y(v,new C(2,l.next()),5);case 5:m=v.h;if(m.done){v.g(0);break}q=m.value;p=C;u=0;return y(v,new C(2,f.G(q,k++)),7);case 7:return y(v,new p(u,v.h),2)}})}())};Na=d;t(e,a);e.prototype[Symbol.asyncIterator]=function(){var f=this;return new E(function g(){var k,l,m;return z(g,function(q){return 1==
q.i?y(q,new C(2,f.j),2):4!=q.i?(k=q.h,l=C,m=0,y(q,new C(2,f.G(k,0)),4)):y(q,new l(m,q.h),0)})}())};Oa=e;t(b,a);b.prototype[Symbol.asyncIterator]=function(f){var h=this;return new E(function k(){function l(){m.error(new O)}var m,q,p,u,v,x;return z(k,function(F){switch(F.i){case 1:P(f),m=new N,q=h.qa.subscribe({next:function(H){m.write(H)},error:function(H){m.error(H)},complete:function(){m.end()}}),f&&f.addEventListener("abort",l),p=0,pa(F),u=void 0;case 4:return y(F,new C(2,m.next()),7);case 7:if((u=
F.h).done){F.g(2);break}P(f);v=C;x=0;return y(F,new C(2,h.G(u.value,p++)),9);case 9:return y(F,new v(x,F.h),4);case 2:ra(F),f&&f.removeEventListener("abort",l),q.unsubscribe(),sa(F)}})}())};Pa=b};function Ra(a,b){this.j=a;this.$=b}Ra.prototype[Symbol.asyncIterator]=function(){return this.j[Symbol.asyncIterator](this.$)};function S(){}S.prototype.forEach=function(a,b,e){var d=this,c,f,h,g,k;return A(function(l){1==l.i&&(c=e?new Ra(d,e):d,f=0,h=B(c));if(5!=l.i)return y(l,h.next(),5);g=l.h;if(g.done)return l.g(0);k=g.value;return y(l,a.call(b,k,f++,e),2)})};S.prototype.pipe=function(){for(var a=J.apply(0,arguments),b=-1,e=a.length,d=this;++b<e;)d=a[b](Sa(d));return d};
S.prototype[Symbol.toStringTag]="AsyncIterableX";Object.defineProperty(S,Symbol.hasInstance,{writable:!0,configurable:!0,value:function(a){return!(!a||"AsyncIterableX"!==a[Symbol.toStringTag])}});Qa(S);
try{(function(a){a||(S.prototype.pipe=function(){for(var b=J.apply(0,arguments),e=-1,d=b.length,c=this,f;++e<d;)if(f=b[e],"function"===typeof f)c=f(Sa(c));else if(M(f)&&L(f.end)&&L(f._write)&&"boolean"===typeof f.writable&&M(f._writableState))return b=b[e+1]||{},b=void 0===b.end?!0:b.end,M(c)&&L(c.pipe)&&L(c._read)&&"boolean"===typeof c.readable&&M(c._readableState)?f=c.pipe(f,{end:b}):(c=Sa(c),e=c.Aa,d=void 0,d=void 0===d?f.xa||{ya:!0}:d,f=e.call(c,d).pipe(f,{end:b})),f;return c})})("object"===typeof window&&
"object"===typeof document&&9===document.nodeType)}catch(a){};function Sa(a){return a instanceof S?a:"string"===typeof a?new R([a],K):null!=a&&L(a[Symbol.iterator])||M(a)&&L(a[Symbol.asyncIterator])?new Na(a,K):M(a)&&L(a.then)?new Oa(a,K):Ka(a)?new Pa(a,K):M(a)&&"number"===typeof a.length?new R(a,K):new R([a],K)};function T(){this.v=[]}T.prototype.clear=function(){this.v=[]};T.prototype.get=function(a){return this.v[a]};T.prototype.push=function(a){this.v.push(a)};T.prototype.done=function(){};n.Object.defineProperties(T.prototype,{count:{configurable:!0,enumerable:!0,get:function(){return this.v.length}}});function U(a){this.F=0;this.R=a;this.v=new Map}U.prototype.clear=function(){this.v.clear()};U.prototype.done=function(){this.R--};
U.prototype.get=function(a){if(!this.v.has(a))throw Error("Element no longer available in the buffer.");var b=this.v.get(a),e=b.value;0===--b.count&&this.v.delete(a);return e};U.prototype.push=function(a){this.v.set(this.F++,{value:a,count:this.R})};n.Object.defineProperties(U.prototype,{count:{configurable:!0,enumerable:!0,get:function(){return this.F}},wa:{configurable:!0,enumerable:!0,get:function(){return this.R},set:function(a){this.R=a}}});function Ta(a){this.W=a}t(Ta,S);Ta.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f;return z(d,function(h){switch(h.i){case 1:return P(a),y(h,new C(2,b.W(a)),2);case 2:c=h.h;case 3:return y(h,new C(2,c.next()),5);case 5:if((f=h.h).done)h.g(0);else return y(h,new C(0,f.value),3)}})}())};function V(a,b){this.S=this.P=null;this.fa=!1;this.j=a;this.U=b}t(V,S);V.prototype[Symbol.asyncIterator]=function(a){P(a);return Ua(this,0)};
function Ua(a,b){b=void 0===b?0:b;return new E(function d(){var c,f,h,g;return z(d,function(k){switch(k.i){case 1:c=b-1,f=!1,h=a.U,pa(k);case 4:if(!(++c<h.count)){k.g(7);break}return y(k,new C(0,h.get(c)),8);case 8:k.g(6);break;case 7:if(a.fa)throw a.P;null===a.S&&(a.S=a.j.next().then(function(l){a.S=null;l.done||h.push(l.value);return l}));return y(k,new C(2,a.S.catch(function(l){a.P=l;a.fa=!0;throw l;})),9);case 9:g=k.h;if(f=g.done){k.g(6);break}return y(k,new C(0,h.get(c)),6);case 6:if(!f){k.g(4);
break}case 2:ra(k),h.done(),sa(k)}})}())}function Va(){var a=void 0===a?-1:a;return function(b){return-1===a?new V(b[Symbol.asyncIterator](),new T):new V(b[Symbol.asyncIterator](),new U(a))}};function Wa(a,b){this.j=a;this.$=b}t(Wa,S);Wa.prototype[Symbol.asyncIterator]=function(){return this.j[Symbol.asyncIterator](this.$)};function W(a,b){return b?new Wa(a,b):a};function Xa(a){return A(function(b){return"function"!==typeof a.return?b.g(0):y(b,a.return(),0)})};function Ya(a){this.j=a}t(Ya,S);
Ya.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f,h,g,k,l,m,q,p,u,v;return z(d,function(x){switch(x.i){case 1:P(a),c=null,f=!1,h=r(b.j),g=h.next();case 2:if(g.done){x.g(4);break}k=g.value;l=W(k,a)[Symbol.asyncIterator]();c=null;f=!1;case 5:return m={},oa(x,7),y(x,new C(2,l.next()),9);case 9:q=x.h;p=q.done;u=q.value;if(!p){x.g(10);break}return y(x,new C(2,Xa(l)),11);case 11:x.g(6);break;case 10:m=u;x.i=8;x.A=0;break;case 7:return c=v=qa(x),f=!0,y(x,new C(2,
Xa(l)),12);case 12:x.g(6);break;case 8:return y(x,new C(0,m),5);case 6:if(!f){x.g(4);break}g=h.next();x.g(2);break;case 4:if(f)throw c;x.i=0}})}())};function Za(a){return null===a||"object"!==typeof a&&"function"!==typeof a}var $a=new WeakMap;
function ab(a){var b;return(new Promise(function(e,d){b={resolve:e,reject:d};for(var c={},f=r(a),h=f.next();!h.done;c={o:c.o},h=f.next())h=h.value,Za(h)?Promise.resolve(h).then(e,d):(c.o=$a.get(h),void 0===c.o?(c.o={J:new Set([b]),da:!1},$a.set(h,c.o),Promise.resolve(h).then(function(g){return function(k){for(var l=r(g.o.J),m=l.next();!m.done;m=l.next())m=m.value.resolve,m(k);g.o.J.clear();g.o.da=!0}}(c),function(g){return function(k){for(var l=r(g.o.J),m=l.next();!m.done;m=l.next())m=m.value.reject,
m(k);g.o.J.clear();g.o.da=!0}}(c))):c.o.da?Promise.resolve(h).then(e,d):c.o.J.add(b))})).finally(function(){for(var e=r(a),d=e.next();!d.done;d=e.next())d=d.value,Za(d)||$a.get(d).J.delete(b)})};var bb=new Promise(function(){});function cb(a,b){return a.then(function(e){return{value:e,index:b}})}function db(a){this.H=a}t(db,S);
db.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f,h,g,k,l,m,q,p,u,v,x,F,H,I,sb;return z(d,function(Q){if(1==Q.i)for(P(a),c=b.H.length,f=Array(c),h=Array(c),g=!1,k=Array(c),l=Array(c),m=c,l.fill(!1),q=0;q<c;q++)p=W(b.H[q],a)[Symbol.asyncIterator](),f[q]=p,h[q]=cb(p.next(),q);if(4!=Q.i){if(!(0<m))return Q.g(0);u=ab(h);return y(Q,new C(2,u),4)}v=Q.h;x=v.value;F=x.value;H=x.done;I=v.index;if(H)return h[I]=bb,m--,Q.g(2);k[I]=F;l[I]=!0;sb=f[I];h[I]=cb(sb.next(),
I);return g||(g=l.every(Ia))?y(Q,new C(0,k),2):Q.g(2)})}())};function eb(a){this.j=a}t(eb,S);eb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f,h,g,k,l;return z(d,function(m){switch(m.i){case 1:P(a),c=r(b.j),f=c.next();case 2:if(f.done){m.g(0);break}h=f.value;g=B(W(h,a));case 5:return y(m,new C(2,g.next()),8);case 8:k=m.h;if(k.done){m.g(3);break}l=k.value;return y(m,new C(0,l),5);case 3:f=c.next(),m.g(2)}})}())};function fb(a){this.W=a}t(fb,S);fb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f,h,g;return z(d,function(k){switch(k.i){case 1:return P(a),y(k,new C(2,b.W(a)),2);case 2:c=k.h,f=B(W(c,a));case 3:return y(k,new C(2,f.next()),6);case 6:if(h=k.h,h.done)k.g(0);else return g=h.value,y(k,new C(0,g),3)}})}())};function gb(a){return new fb(a)};function hb(){}t(hb,S);hb.prototype[Symbol.asyncIterator]=function(a){return new E(function e(){return z(e,function(d){P(a);d.i=0})}())};function ib(){return new hb};var jb=new Promise(function(){});function kb(a,b){return a.then(function(e){return{value:e,index:b}})};var lb="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function X(a){this.ga=a}t(X,S);X.prototype[Symbol.asyncIterator]=function(){var a=this.ga,b=a.getReader();return mb(a,b,nb(b))};function ob(){X.apply(this,arguments)}t(ob,X);ob.prototype[Symbol.asyncIterator]=function(){var a=this.ga;try{var b=a.getReader({mode:"byob"})}catch(e){return X.prototype[Symbol.asyncIterator].call(this)}a=mb(a,b,pb(b));a.next();return a};
function mb(a,b,e){return new E(function c(){var f,h;return z(c,function(g){switch(g.i){case 1:return f=!1,oa(g,2,3),y(g,new C(1,e),3);case 3:ra(g);if(!b){g.g(6);break}if(f){g.g(7);break}return y(g,new C(2,b.cancel()),7);case 7:if(a.locked)try{b.closed.catch(function(){}),b.releaseLock()}catch(k){}case 6:sa(g);break;case 2:h=qa(g);if(f=!0,b)return y(g,new C(2,b.cancel(h)),3);g.g(3)}})}())}
function nb(a){return new E(function e(){var d;return z(e,function(c){return 1==c.i?y(c,new C(2,a.read()),4):(d=c.h).done?c.g(0):y(c,new C(0,d.value),1)})}())}function pb(a){return new E(function e(){var d,c;return z(e,function(f){switch(f.i){case 1:return y(f,new C(0,null),2);case 2:c=f.h;case 3:return y(f,new C(2,qb(a,c)),5);case 5:if((d=f.h).done){f.g(0);break}return y(f,new C(0,d.value),6);case 6:c=f.h,f.g(3)}})}())}
function qb(a,b){var e,d;return A(function(c){if(1==c.i){if("number"===typeof b)d=new ArrayBuffer(e=b);else if(b instanceof ArrayBuffer)e=(d=b).byteLength;else if(b instanceof lb)e=(d=b).byteLength;else return c.return({done:!0,value:void 0});return y(c,rb(a,d,0,e),2)}return c.return(c.h)})}
function rb(a,b,e,d){var c,f,h,g;return A(function(k){switch(k.i){case 1:return c=e,c>=d?k.return({done:!1,value:new Uint8Array(b,0,d)}):y(k,a.read(new Uint8Array(b,c,d-c)),2);case 2:f=k.h;h=f.done;g=f.value;if(!((c+=g.byteLength)<d)||h){k.g(3);break}return y(k,rb(a,g.buffer,c,d),4);case 4:return k.return(k.h);case 3:return k.return({done:h,value:new Uint8Array(g.buffer,0,c)})}})}function tb(a,b){return b&&"byob"===b.mode?new ob(a):new X(a)};function ub(a,b){function e(c){return d.write(c)}var d=new N;a(e);return Va()(function(){return new E(function f(){var h;return z(f,function(g){switch(g.i){case 1:h=void 0;case 2:return y(g,new C(2,d.next()),5);case 5:if((h=g.h).done){g.g(4);break}return y(g,new C(0,h.value),2);case 4:b(e),d.end(),g.i=0}})}())}())};function vb(a,b,e,d){this.X=a;this.K=b;this.Y=e;this.Z=d}t(vb,S);vb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f,h;return z(d,function(g){switch(g.i){case 1:P(a),c=b.X;case 2:return y(g,new C(2,b.K(c,a)),5);case 5:if(!g.h){g.g(0);break}f=C;h=0;return y(g,new C(2,b.Z(c,a)),7);case 7:return y(g,new f(h,g.h),3);case 3:return y(g,new C(2,b.Y(c,a)),8);case 8:c=g.h,g.g(2)}})}())};function wb(a,b){return new Promise(function(e,d){function c(){clearTimeout(f);d(new O)}b&&b.aborted&&d(new O);var f=setTimeout(function(){if(b&&(b.removeEventListener("abort",c),b.aborted)){c();return}e()},a);b&&b.addEventListener("abort",c,{once:!0})})};function xb(a,b,e,d,c){this.X=a;this.K=b;this.Y=e;this.Z=d;this.ra=c}t(xb,S);
xb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f,h,g;return z(d,function(k){switch(k.i){case 1:P(a),c=b.X;case 2:return y(k,new C(2,b.K(c,a)),5);case 5:if(!k.h){k.g(0);break}return y(k,new C(2,b.ra(c,a)),6);case 6:return f=k.h,y(k,new C(2,wb(f,a)),7);case 7:return h=C,g=0,y(k,new C(2,b.Z(c,a)),9);case 9:return y(k,new h(g,k.h),3);case 3:return y(k,new C(2,b.Y(c,a)),10);case 10:c=k.h,k.g(2)}})}())};function yb(a,b){return A(function(e){return e.return(a===b||"number"===typeof a&&"number"===typeof b&&isNaN(a)&&isNaN(b))})}function zb(a,b){return A(function(e){return e.return(a>b?1:a<b?-1:0)})};function Ab(a){this.pa=a}t(Ab,S);Ab.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c;return z(d,function(f){1==f.i&&(P(a),c=0);return 4!=f.i?y(f,new C(2,wb(b.pa,a)),4):y(f,new C(0,c++),2)})}())};function Bb(a,b,e,d){var c,f,h,g,k,l,m,q,p,u;return A(function(v){switch(v.i){case 1:return P(d),c=[],f=W(a,d)[Symbol.asyncIterator](),y(v,f.next(),2);case 2:h=v.h;g=h.value;if(k=h.done)throw Error("Sequence contains no elements");return y(v,b(g,d),3);case 3:l=v.h,c.push(g);case 4:return y(v,f.next(),6);case 6:if((m=v.h).done){v.g(5);break}q=m.value;return y(v,b(q,d),7);case 7:return p=v.h,y(v,e(p,l,d),8);case 8:u=v.h;0===u?c.push(q):0<u&&(c=[q],l=p);v.g(4);break;case 5:return v.return(c)}})};var Cb=new Promise(function(){});function Db(a,b){return a.then(function(e){return{value:e,index:b}})}function Eb(a){this.j=a}t(Eb,S);
Eb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f,h,g,k,l,m,q,p,u,v,x,F;return z(d,function(H){if(1==H.i)for(P(a),c=b.j.length,f=Array(c),h=Array(c),g=c,k=0;k<c;k++)l=W(b.j[k],a)[Symbol.asyncIterator](),f[k]=l,h[k]=Db(l.next(),k);if(4!=H.i){if(!(0<g))return H.g(0);m=ab(h);return y(H,new C(2,m),4)}q=H.h;p=q.value;u=p.done;v=p.value;x=q.index;if(u)return h[x]=Cb,g--,H.g(2);F=f[x];h[x]=Db(F.next(),x);return y(H,new C(0,v),2)})}())};function Fb(){}t(Fb,S);Fb.prototype[Symbol.asyncIterator]=function(a){return new E(function e(){return z(e,function(d){P(a);return y(d,new C(2,new Promise(function(c,f){a&&a.addEventListener("abort",function(){return f(new O)},{once:!0})})),0)})}())};function Gb(a){this.oa=a}t(Gb,S);Gb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f,h;return z(d,function(g){1==g.i&&(P(a),c=r(b.oa),f=c.next());if(3!=g.i){if(f.done)return g.g(0);h=f.value;return y(g,new C(0,h),3)}f=c.next();return g.g(2)})}())};function Hb(a){this.j=a}t(Hb,S);Hb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f,h,g,k;return z(d,function(l){switch(l.i){case 1:P(a),c=r(b.j),f=c.next();case 2:if(f.done){l.g(0);break}h=f.value;g=W(h,a)[Symbol.asyncIterator]();case 5:return k=void 0,oa(l,7),y(l,new C(2,g.next()),9);case 9:k=l.h;l.i=8;l.A=0;break;case 7:qa(l);l.g(3);break;case 8:if(k.done){l.g(3);break}return y(l,new C(0,k.value),5);case 3:f=c.next(),l.g(2)}})}())};function Ib(a,b){return a.then(function(e){return{value:e,index:b}})}function Jb(a){this.H=a}t(Jb,S);
Jb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f,h,g,k,l,m,q,p,u,v,x,F,H;return z(d,function(I){switch(I.i){case 1:P(a);c=b.H;f=c.length;h=Array(f);g=Array(f);for(k=0;k<f;k++)l=W(c[k],a)[Symbol.asyncIterator](),h[k]=l,g[k]=Ib(l.next(),k);m=ab(g);return y(I,new C(2,m),2);case 2:q=I.h;p=q.value;u=q.index;if(p.done){I.g(3);break}return y(I,new C(0,p.value),3);case 3:for(v=h[u],x=0;x<f;x++)x!==u&&(F=h[x],F.return&&F.return());case 5:return y(I,new C(2,v.next()),
7);case 7:if((H=I.h).done)I.g(0);else return y(I,new C(0,H.value),5)}})}())};function Kb(a,b){this.ea=a;this.F=b}t(Kb,S);Kb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f;return z(d,function(h){1==h.i&&(P(a),c=b.ea,f=b.ea+b.F);if(3!=h.i)return c<f?y(h,new C(0,c),3):h.g(0);c++;return h.g(2)})}())};function Lb(a,b){var e,d,c,f;return A(function(h){switch(h.i){case 1:P(b),e=[],d=B(W(a,b));case 2:return y(h,d.next(),5);case 5:c=h.h;if(c.done){h.g(4);break}f=c.value;e.push(f);h.g(2);break;case 4:return h.return(e)}})};function Mb(a,b){this.ha=a;this.F=b}t(Mb,S);Mb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c;return z(d,function(f){switch(f.i){case 1:if(-1===b.F){f.g(8);break}c=0;case 4:if(!(c<b.F)){f.g(0);break}P(a);return y(f,new C(0,b.ha),5);case 5:c++;f.g(4);break;case 8:return P(a),y(f,new C(0,b.ha),8)}})}())};function Nb(a){this.P=a}t(Nb,S);Nb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){return z(d,function(){P(a);throw b.P;})}())};function Ob(a){V.call(this,a,new U(0))}t(Ob,V);Ob.prototype[Symbol.asyncIterator]=function(a){P(a);this.U.wa++;return Ua(this,this.U.count)[Symbol.asyncIterator]()};function Pb(){return function(a){return new Ob(a[Symbol.asyncIterator]())}};function Qb(a){this.j=a}Qb.prototype.cancel=function(){var a=this,b;return A(function(e){if(1==e.i)return(b=a.j)&&b.return?y(e,b.return(),2):e.g(2);a.j=null;e.i=0})};function Rb(a){this.j=a}t(Rb,Qb);Rb.prototype.pull=function(a){var b=this,e,d;return A(function(c){if(1==c.i)return(e=b.j)?y(c,e.next(a.desiredSize),3):c.g(2);if(2!=c.i&&(d=c.h,!d.done))return c.return(a.enqueue(d.value));a.close();c.i=0})};
function Sb(a,b){b=void 0===b?{}:b;this.j=a;this.type="bytes";this.autoAllocateChunkSize=b.autoAllocateChunkSize;this.ua=new Rb(a)}t(Sb,Qb);
Sb.prototype.pull=function(a){var b=this,e,d,c,f,h;return A(function(g){switch(g.i){case 1:if(a.byobRequest){g.g(2);break}return y(g,b.ua.pull(a),3);case 3:return g.return(g.h);case 2:if(!b.j){g.g(4);break}e=a.byobRequest;d=e.view;return y(g,b.j.next(d),5);case 5:if(c=g.h,f=c.done,h=c.value,!f){if("number"===typeof h)return g.return(a.byobRequest.respond(h));if(ArrayBuffer.isView(h)){var k=g.return;if(h.buffer===d.buffer)var l=a.byobRequest.respondWithNewView(h);else{l=a.byobRequest;var m=l.respond;
var q=void 0===q?0:q;var p=void 0===p?h.byteLength:p;var u=d.byteLength,v=new Uint8Array(d.buffer,d.byteOffset,u);p=new Uint8Array(h.buffer,h.byteOffset,Math.min(p,u,h.buffer.byteLength-h.byteOffset));v.set(p,q);l=m.call(l,p.byteLength)}return k.call(g,l)}}case 4:a.close(),g.i=0}})};
var Tb=function(){function a(c,f){return c instanceof Sb?new e(c,f):new d(c,f)}function b(c,f){function h(){return ReadableStream.apply(this,arguments)||this}function g(){return ReadableStream.apply(this,arguments)||this}t(g,ReadableStream);g.prototype[Symbol.asyncIterator]=function(){return tb(this)[Symbol.asyncIterator]()};t(h,ReadableStream);h.prototype[Symbol.asyncIterator]=function(){return tb(this,{mode:"byob"})[Symbol.asyncIterator]()};e=h;d=g;b=a;return a(c,f)}var e,d;return function(c,f){return b(c,
f)}}();function Ub(a,b){return b&&"type"in b&&"bytes"===b.type?Tb(new Sb(a[Symbol.asyncIterator](),b),b):Tb(new Rb(a[Symbol.asyncIterator]()),b)}S.prototype.tee=function(){return Vb(this).tee()};S.prototype.pipeTo=function(a,b){return Vb(this).pipeTo(a,b)};S.prototype.pipeThrough=function(a,b){return Vb(this).pipeThrough(a,b)};function Vb(a){return a.na||(a.na=a.pipe(Pb(),Ub))}function Wb(a){return a?Ub(this,a):Ub(this)}S.prototype.toDOMStream=Wb;function Y(){}function Xb(a,b,e){return a&&"object"===typeof a?{next:L(a.next)?function(d){return a.next(d)}:Y,error:L(a.error)?function(d){return a.error(d)}:Y,complete:L(a.complete)?function(){return a.complete()}:Y}:{next:L(a)?a:Y,error:L(b)?b:Y,complete:L(e)?e:Y}};var Yb="function"===typeof Symbol&&Symbol.observable||"@@observable";function Zb(){this.ca=!1}Zb.prototype.unsubscribe=function(){this.ca=!0};function $b(a){this.j=a}$b.prototype[Yb]=function(){return this};$b.prototype.subscribe=function(a,b,e){function d(){h.next().then(function(g){var k=g.value;g=g.done;f.ca||(g?c.complete():(c.next(k),d()))}).catch(function(g){f.ca||c.error(g)})}var c=Xb(a,b,e),f=new Zb,h=this.j[Symbol.asyncIterator]();d();return f};function ac(a,b){this.K=a;this.j=b}t(ac,S);ac.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f,h;return z(d,function(g){switch(g.i){case 1:P(a);case 2:return y(g,new C(2,b.K(a)),4);case 4:if(!g.h){g.g(0);break}c=B(W(b.j,a));case 5:return y(g,new C(2,c.next()),8);case 8:if(f=g.h,f.done)g.g(2);else return h=f.value,y(g,new C(0,h),5)}})}())};function bc(a){this.H=a}t(bc,S);
bc.prototype[Symbol.asyncIterator]=function(a){var b=this;return new E(function d(){var c,f,h,g,k,l,m;return z(d,function(q){switch(q.i){case 1:P(a),c=b.H.length,f=b.H.map(function(p){return W(p,a)[Symbol.asyncIterator]()});case 2:if(!(0<c)){q.g(0);break}h=Array(c);g=-1;case 4:return++g<c?y(q,new C(2,f[g].next()),7):y(q,new C(0,h),2);case 7:k=q.h;l=k.value;m=k.done;if(!m){q.g(8);break}return y(q,new C(2,Promise.all(f.map(Xa))),9);case 9:return q.return(new C(0,void 0));case 8:h[g]=l,q.g(4)}})}())};var Z={get FromArrayIterable(){return R},get FromAsyncIterable(){return Na},get FromObservableAsyncIterable(){return Pa},get FromPromiseIterable(){return Oa},get from(){return Ma}};Z.AsyncIterableReadableByteStream=ob;Z.AsyncIterableReadableStream=X;Z.AsyncIterableX=S;Z.AsyncSink=N;Z.CatchAllAsyncIterable=Ya;Z.CombineLatestAsyncIterable=db;Z.ConcatAsyncIterable=eb;Z.MergeAsyncIterable=Eb;Z.NeverAsyncIterable=Fb;Z.OfAsyncIterable=Gb;Z.OnErrorResumeNextAsyncIterable=Hb;Z.RaceAsyncIterable=Jb;
Z.RepeatValueAsyncIterable=Mb;Z.ZipAsyncIterable=bc;Z._concatAll=function(a){return new eb(a)};Z._initialize=Qa;Z.as=Sa;
Z.asyncify=function(a){return function(){function b(){var c=J.apply(0,arguments);d.write(1===c.length?c[0]:c);d.end()}var e=J.apply(0,arguments),d=new N;try{a.apply(null,fa(e.concat(b)))}catch(c){d.error(c),d.end()}return Va()(function(){return new E(function f(){var h;return z(f,function(g){1==g.i&&(h=void 0);return 5!=g.i?y(g,new C(2,d.next()),5):(h=g.h).done?g.g(0):y(g,new C(0,h.value),2)})}())}())}};
Z.asyncifyErrback=function(a){return function(){function b(c){var f=J.apply(1,arguments);c?d.error(c):d.write(1===f.length?f[0]:f);d.end()}var e=J.apply(0,arguments),d=new N;try{a.apply(null,fa(e.concat(b)))}catch(c){d.error(c),d.end()}return Va()(function(){return new E(function f(){var h;return z(f,function(g){1==g.i&&(h=void 0);return 5!=g.i?y(g,new C(2,d.next()),5):(h=g.h).done?g.g(0):y(g,new C(0,h.value),2)})}())}())}};
Z.average=function(a,b){var e,d,c,f,h,g,k,l,m,q,p;return A(function(u){switch(u.i){case 1:e=b||{},d=e.selector,c=void 0===d?K:d,f=e.signal,h=e.thisArg,P(f),k=g=0,l=B(W(a,f));case 2:return y(u,l.next(),5);case 5:m=u.h;if(m.done){u.g(4);break}q=m.value;p=g;return y(u,c.call(h,q,f),6);case 6:g=p+u.h;k++;u.g(2);break;case 4:if(0===k)throw Error("Empty collection");return u.return(g/k)}})};Z.catchAll=function(a){return new Ya(a)};Z.catchError=function(){return new Ya(J.apply(0,arguments))};
Z.combineLatest=function(){return new db(J.apply(0,arguments))};Z.concat=function(){return new eb(J.apply(0,arguments))};Z.count=function(a,b){var e,d,c,f,h,g,k,l,m;return A(function(q){switch(q.i){case 1:e=b||{},d=e.signal,c=e.thisArg,f=e.predicate,h=void 0===f?function(){return A(function(p){return p.return(!0)})}:f,P(d),g=0,k=B(W(a,d));case 2:return y(q,k.next(),5);case 5:l=q.h;if(l.done){q.g(4);break}m=l.value;return y(q,h.call(c,m,g,d),6);case 6:q.h&&g++;q.g(2);break;case 4:return q.return(g)}})};
Z.create=function(a){return new Ta(a)};Z.defer=gb;Z.elementAt=function(a,b,e){var d,c,f,h;return A(function(g){switch(g.i){case 1:P(e),d=b,c=B(W(a,e));case 2:return y(g,c.next(),5);case 5:f=g.h;if(f.done){g.g(4);break}h=f.value;if(0===d)return g.return(h);d--;g.g(2);break;case 4:return g.return(void 0)}})};Z.empty=ib;
Z.every=function(a,b){var e,d,c,f,h,g,k,l;return A(function(m){switch(m.i){case 1:e=b,d=e.signal,c=e.thisArg,f=e.predicate,P(d),h=0,g=B(W(a,d));case 2:return y(m,g.next(),5);case 5:k=m.h;if(k.done){m.g(4);break}l=k.value;return y(m,f.call(c,l,h++,d),6);case 6:if(!m.h)return m.return(!1);m.g(2);break;case 4:return m.return(!0)}})};
Z.find=function(a,b){var e,d,c,f,h,g,k,l;return A(function(m){switch(m.i){case 1:e=b,d=e.signal,c=e.thisArg,f=e.predicate,P(d),h=0,g=B(W(a,d));case 2:return y(m,g.next(),5);case 5:k=m.h;if(k.done){m.g(4);break}l=k.value;return y(m,f.call(c,l,h++,d),6);case 6:if(m.h)return m.return(l);m.g(2);break;case 4:return m.return(void 0)}})};
Z.findIndex=function(a,b){var e,d,c,f,h,g,k,l;return A(function(m){switch(m.i){case 1:e=b,d=e.signal,c=e.thisArg,f=e.predicate,P(d),h=0,g=B(W(a,d));case 2:return y(m,g.next(),5);case 5:k=m.h;if(k.done){m.g(4);break}l=k.value;return y(m,f.call(c,l,h++,d),6);case 6:if(m.h)return m.return(h);m.g(2);break;case 4:return m.return(-1)}})};
Z.first=function(a,b){var e,d,c,f,h,g,k,l,m;return A(function(q){switch(q.i){case 1:e=b||{},d=e.signal,c=e.thisArg,f=e.predicate,h=void 0===f?function(){return A(function(p){return p.return(!0)})}:f,P(d),g=0,k=B(W(a,d));case 2:return y(q,k.next(),5);case 5:l=q.h;if(l.done){q.g(4);break}m=l.value;return y(q,h.call(c,m,g++,d),6);case 6:if(q.h)return q.return(m);q.g(2);break;case 4:return q.return(void 0)}})};
Z.forkJoin=function(){var a=J.apply(0,arguments),b,e,d,c,f,h,g,k,l,m,q,p,u,v;return A(function(x){switch(x.i){case 1:for(b=a.shift(),b instanceof AbortSignal||(a.unshift(b),b=void 0),e=a.length,d=Array(e),c=Array(e),f=e,h=Array(e),g=Array(e),g.fill(!1),k=0;k<e;k++)l=W(a[k],b)[Symbol.asyncIterator](),d[k]=l,c[k]=kb(l.next(),k);case 2:if(!(0<f)){x.g(3);break}m=ab(c);return y(x,m,4);case 4:q=x.h;p=q.value;u=q.index;p.done?(c[u]=jb,f--):(v=d[u],c[u]=kb(v.next(),u),g[u]=!0,h[u]=p.value);x.g(2);break;case 3:return 0<
g.length&&g.every(Ia)?x.return(h):x.return(void 0)}})};Z.fromDOMStream=tb;
Z.fromEvent=function(a,b,e){if(a&&"function"===typeof a.addEventListener&&"function"===typeof a.removeEventListener)return ub(function(d){return a.addEventListener(b,d,e)},function(d){return a.removeEventListener(b,d,e)});if(a&&"function"===typeof a.addListener&&"function"===typeof a.removeListener)return ub(function(d){return a.addListener(b,d)},function(d){return a.removeListener(b,d)});throw new TypeError("Unsupported event target");};Z.fromEventPattern=ub;
Z.generate=function(a,b,e,d){return new vb(a,b,e,d)};Z.generateTime=function(a,b,e,d,c){return new xb(a,b,e,d,c)};Z.iif=function(a,b,e){e=void 0===e?ib():e;return gb(function(d){return A(function(c){return 1==c.i?y(c,a(d),2):c.return(c.h?b:e)})})};
Z.includes=function(a,b,e,d){e=void 0===e?0:e;var c,f,h,g,k;return A(function(l){switch(l.i){case 1:P(d),c=e,f=0,Math.abs(c)&&(c=0),h=B(W(a,d));case 2:return y(l,h.next(),5);case 5:g=l.h;if(g.done){l.g(4);break}k=g.value;if(f++>c&&(k===b||"number"===typeof k&&"number"===typeof b&&isNaN(k)&&isNaN(b)))return l.return(!0);l.g(2);break;case 4:return l.return(!1)}})};Z.interval=function(a){return new Ab(a)};
Z.isEmpty=function(a,b){var e,d;return A(function(c){switch(c.i){case 1:P(b),e=B(W(a,b));case 2:return y(c,e.next(),5);case 5:d=c.h;if(d.done){c.g(4);break}return c.return(!1);case 4:return c.return(!0)}})};
Z.last=function(a,b){var e,d,c,f,h,g,k,l,m,q;return A(function(p){switch(p.i){case 1:e=b||{},d=e.signal,c=e.thisArg,f=e.predicate,h=void 0===f?function(){return A(function(u){return u.return(!0)})}:f,P(d),g=0,l=B(W(a,d));case 2:return y(p,l.next(),5);case 5:m=p.h;if(m.done){p.g(4);break}q=m.value;return y(p,h.call(c,q,g++,d),6);case 6:p.h&&(k=q);p.g(2);break;case 4:return p.return(k)}})};
Z.max=function(a,b){var e,d,c,f,h,g,k,l,m,q;return A(function(p){switch(p.i){case 1:return e=b||{},d=e.comparer,c=void 0===d?zb:d,f=e.signal,h=e.selector,g=void 0===h?K:h,P(f),k=W(a,f)[Symbol.asyncIterator](),y(p,k.next(),2);case 2:l=p.h;if(l.done)throw Error("Sequence contains no elements");return y(p,g(l.value),3);case 3:m=p.h;case 4:return y(p,k.next(),6);case 6:if((l=p.h).done){p.g(5);break}return y(p,g(l.value),7);case 7:return q=p.h,y(p,c(q,m),8);case 8:0<p.h&&(m=q);p.g(4);break;case 5:return p.return(m)}})};
Z.maxBy=function(a,b){b=b||{};var e=b.comparer;return Bb(a,b.selector,void 0===e?zb:e,b.signal)};Z.merge=function(a){return new Eb([a].concat(fa(J.apply(1,arguments))))};
Z.min=function(a,b){var e,d,c,f,h,g,k,l,m,q;return A(function(p){switch(p.i){case 1:return e=b||{},d=e.comparer,c=void 0===d?zb:d,f=e.signal,h=e.selector,g=void 0===h?K:h,P(f),k=W(a,f)[Symbol.asyncIterator](),y(p,k.next(),2);case 2:l=p.h;if(l.done)throw Error("Sequence contains no elements");return y(p,g(l.value),3);case 3:m=p.h;case 4:return y(p,k.next(),6);case 6:if((l=p.h).done){p.g(5);break}return y(p,g(l.value),7);case 7:return q=p.h,y(p,c(q,m),8);case 8:0>p.h&&(m=q);p.g(4);break;case 5:return p.return(m)}})};
Z.minBy=function(a,b){b=b||{};var e=b.comparer,d=void 0===e?zb:e;return Bb(a,b.selector,function(c,f){return A(function(h){return 1==h.i?y(h,d(c,f),2):h.return(-h.h)})},b.signal)};Z.never=function(){return new Fb};Z.of=function(){return new Gb(J.apply(0,arguments))};Z.onErrorResumeNext=function(){return new Hb(J.apply(0,arguments))};Z.pipe=function(a){var b=J.apply(1,arguments);return 0===b.length?a instanceof S?a:Ma(a):function(e){return b.reduce(function(d,c){return c(d)},e)}(a)};
Z.race=function(){return new Jb(J.apply(0,arguments))};Z.range=function(a,b){return new Kb(a,b)};
Z.reduce=function(a,b){var e,d,c,f,h,g,k,l,m,q,p;return A(function(u){switch(u.i){case 1:e=b,d=e.seed,c=e.signal,f=e.callback,h=b.hasOwnProperty("seed"),P(c),g=0,k=!1,l=d,m=B(W(a,c));case 2:return y(u,m.next(),5);case 5:q=u.h;if(q.done){u.g(4);break}p=q.value;if(!k&&!(k=h)){l=p;k=!0;g++;u.g(2);break}return y(u,f(l,p,g++,c),7);case 7:l=u.h;u.g(2);break;case 4:if(!h&&!k)throw Error("Sequence contains no elements");return u.return(l)}})};
Z.reduceRight=function(a,b){var e,d,c,f,h,g,k,l,m,q;return A(function(p){switch(p.i){case 1:return e=b,d=e.seed,c=e.signal,f=e.callback,h=b.hasOwnProperty("seed"),P(c),y(p,Lb(a,c),2);case 2:g=p.h,k=!1,l=d,m=g.length-1;case 3:if(!(0<=m)){p.g(5);break}q=g[m];if(!k&&!(k=h)){l=q;k=!0;p.g(4);break}return y(p,f(l,q,m,c),7);case 7:l=p.h;case 4:m--;p.g(3);break;case 5:if(!h&&!k)throw Error("Sequence contains no elements");return p.return(l)}})};Z.repeatValue=function(a,b){return new Mb(a,void 0===b?-1:b)};
Z.sequenceEqual=function(a,b,e){var d,c,f,h,g,k,l,m,q;return A(function(p){switch(p.i){case 1:d=e||{},c=d.comparer,f=void 0===c?yb:c,h=d.signal,P(h),g=W(a,h)[Symbol.asyncIterator](),k=W(b,h)[Symbol.asyncIterator]();case 2:return y(p,g.next(),4);case 4:return(l=p.h).done?y(p,k.next(),8):y(p,k.next(),5);case 5:if(!(q=!(m=p.h).done)){p.g(6);break}return y(p,f(l.value,m.value),7);case 7:q=p.h;case 6:if(!q)return p.return(!1);p.g(2);break;case 8:return p.return(!!p.h.done)}})};
Z.single=function(a,b){var e,d,c,f,h,g,k,l,m,q,p,u;return A(function(v){switch(v.i){case 1:e=b||{},d=e.signal,c=e.thisArg,f=e.predicate,h=void 0===f?function(){return A(function(x){return x.return(!0)})}:f,P(d),k=!1,l=0,m=B(W(a,d));case 2:return y(v,m.next(),5);case 5:q=v.h;if(q.done){v.g(4);break}p=q.value;if(!(u=k)){v.g(6);break}return y(v,h.call(c,p,l++,d),7);case 7:u=v.h;case 6:if(u)throw Error("More than one element was found");return y(v,h.call(c,p,l++,d),8);case 8:v.h&&(g=p,k=!0);v.g(2);break;
case 4:return v.return(g)}})};Z.some=function(a,b){var e,d,c,f,h,g,k,l;return A(function(m){switch(m.i){case 1:e=b,d=e.signal,c=e.thisArg,f=e.predicate,P(d),h=0,g=B(W(a,d));case 2:return y(m,g.next(),5);case 5:k=m.h;if(k.done){m.g(4);break}l=k.value;return y(m,f.call(c,l,h++,d),6);case 6:if(m.h)return m.return(!0);m.g(2);break;case 4:return m.return(!1)}})};
Z.sum=function(a,b){var e,d,c,f,h,g,k,l,m,q;return A(function(p){switch(p.i){case 1:e=b||{},d=e.selector,c=void 0===d?K:d,f=e.signal,h=e.thisArg,P(f),g=0,k=B(W(a,f));case 2:return y(p,k.next(),5);case 5:l=p.h;if(l.done){p.g(4);break}m=l.value;q=g;return y(p,c.call(h,m,f),6);case 6:g=q+p.h;p.g(2);break;case 4:return p.return(g)}})};Z.throwError=function(a){return new Nb(a)};Z.toArray=Lb;Z.toDOMStream=Ub;Z.toDOMStreamProto=Wb;
Z.toMap=function(a,b){var e,d,c,f,h,g,k,l,m,q,p,u;return A(function(v){switch(v.i){case 1:e=b||{},d=e.signal,c=e.elementSelector,f=void 0===c?K:c,h=e.keySelector,g=void 0===h?K:h,P(d),k=new Map,l=B(W(a,d));case 2:return y(v,l.next(),5);case 5:m=v.h;if(m.done){v.g(4);break}q=m.value;return y(v,f(q,d),6);case 6:return p=v.h,y(v,g(q,d),7);case 7:u=v.h;k.set(u,p);v.g(2);break;case 4:return v.return(k)}})};Z.toObservable=function(a){return new $b(a)};
Z.toSet=function(a,b){var e,d,c,f;return A(function(h){switch(h.i){case 1:P(b),e=new Set,d=B(W(a,b));case 2:return y(h,d.next(),5);case 5:c=h.h;if(c.done){h.g(4);break}f=c.value;e.add(f);h.g(2);break;case 4:return h.return(e)}})};Z.whileDo=function(a,b){return new ac(b,a)};Z.zip=function(){return new bc(J.apply(0,arguments))};Ha.prototype[Symbol.toStringTag]="__await";Object.defineProperty(Ha,Symbol.hasInstance,{writable:!0,configurable:!0,value:function(a){return!(!a||"__await"!==a[Symbol.toStringTag])}});Object.assign(arguments[0],Z);}.bind(this))));

//# sourceMappingURL=Ix.dom.asynciterable.es5.min.js.map
